{"ast":null,"code":"import _regeneratorRuntime from\"/home/qtreheux/Desktop/Focus_plus/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/qtreheux/Desktop/Focus_plus/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/qtreheux/Desktop/Focus_plus/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/qtreheux/Desktop/Focus_plus/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/qtreheux/Desktop/Focus_plus/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState}from'react';import{Form,Row,Col,Button}from'react-bootstrap';import axios from'axios';import{API_URL}from'../utils/constants';var Connection=function Connection(props){var _useState=useState({username:'',password:''}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),errorMsg=_useState4[0],setErrorMsg=_useState4[1];var handleInputChange=function handleInputChange(event){setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},event.target.name,event.target.value)));};var handleOnSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var username,password,formData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;username=state.username,password=state.password;if(!(username.trim()!==''&&password.trim()!=='')){_context.next=12;break;}formData=new FormData();formData.append('username',username);formData.append('password',password);setErrorMsg('');_context.next=10;return axios.post(\"\".concat(API_URL,\"/login\"),formData,{headers:{'Content-Type':'multipart/form-data'}});case 10:_context.next=13;break;case 12:setErrorMsg('Please enter all the field values.');case 13:_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](1);_context.t0.response&&setErrorMsg(_context.t0.response.data);case 18:case\"end\":return _context.stop();}}},_callee,null,[[1,15]]);}));return function handleOnSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{href:\"/signup\",children:\"S'incrire\"})})}),/*#__PURE__*/_jsxs(Form,{className:\"search-form\",onSubmit:handleOnSubmit,children:[errorMsg&&/*#__PURE__*/_jsx(\"p\",{className:\"errorMsg\",children:errorMsg}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Form.Group,{controlId:\"username\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"username\",value:state.username||'',placeholder:\"Entrez votre nom d'utilisateur\",onChange:handleInputChange})})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Form.Group,{controlId:\"password\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"password\",value:state.password||'',placeholder:\"Entrez votre mot de passe\",onChange:handleInputChange})})})}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Se Connecter\"})]})]});};export default Connection;","map":{"version":3,"sources":["/home/qtreheux/Desktop/Focus_plus/src/components/Login.js"],"names":["React","useState","Form","Row","Col","Button","axios","API_URL","Connection","props","username","password","state","setState","errorMsg","setErrorMsg","handleInputChange","event","target","name","value","handleOnSubmit","preventDefault","trim","formData","FormData","append","post","headers","response","data"],"mappings":"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","sourcesContent":["import React, { useState} from 'react';\nimport { Form, Row, Col, Button } from 'react-bootstrap';\nimport axios from 'axios';\nimport { API_URL } from '../utils/constants';\n\nconst Connection = (props) => {\n  const [state, setState] = useState({\n    username: '',\n    password: ''\n  });\n  const [errorMsg, setErrorMsg] = useState('');\n  const handleInputChange = (event) => {\n    setState({\n      ...state,\n      [event.target.name]: event.target.value\n    });\n  };\n  const handleOnSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n        const { username, password } = state;\n        if (username.trim() !== '' && password.trim() !== '') {\n          const formData = new FormData();\n          formData.append('username', username);\n          formData.append('password', password);\n          setErrorMsg('');\n          await axios.post(`${API_URL}/login`, formData, {\n          headers: {\n          'Content-Type': 'multipart/form-data'\n          }\n            });\n        } else {\n          setErrorMsg('Please enter all the field values.');\n        }\n      } catch (error) {\n        error.response && setErrorMsg(error.response.data);\n      }\n    };\n\n  return (\n    <React.Fragment>\n       <Row>\n           <Col> \n           <Button href=\"/signup\">S'incrire</Button>\n           </Col>\n       </Row> \n      <Form className=\"search-form\" onSubmit={handleOnSubmit}>\n        {errorMsg && <p className=\"errorMsg\">{errorMsg}</p>}\n        <Row>\n          <Col>\n            <Form.Group controlId=\"username\">\n              <Form.Control\n                type=\"text\"\n                name=\"username\"\n                value={state.username || ''}\n                placeholder=\"Entrez votre nom d'utilisateur\"\n                onChange={handleInputChange}\n              />\n            </Form.Group>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Form.Group controlId=\"password\">\n              <Form.Control\n                type=\"text\"\n                name=\"password\"\n                value={state.password || ''}\n                placeholder=\"Entrez votre mot de passe\"\n                onChange={handleInputChange}\n              />\n            </Form.Group>\n          </Col>\n        </Row>\n        <Button variant=\"primary\" type=\"submit\">\n          Se Connecter\n        </Button>\n      </Form>\n    </React.Fragment>\n  );\n};\nexport default Connection;"]},"metadata":{},"sourceType":"module"}