{"ast":null,"code":"import _regeneratorRuntime from\"/home/qtreheux/Desktop/Focus_plus/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/qtreheux/Desktop/Focus_plus/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/qtreheux/Desktop/Focus_plus/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import{Row,Col,Button}from'react-bootstrap';import axios from'axios';import{API_URL}from'../utils/constants';var Forum=function Forum(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userMessage=_useState2[0],setUserMessage=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),errorMsg=_useState4[0],setErrorMsg=_useState4[1];useEffect(function(){var getMessage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(API_URL,\"/getAllMessage\"));case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setErrorMsg('');setUserMessage(data);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);_context.t0.response&&setErrorMsg(_context.t0.response.data);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function getMessage(){return _ref.apply(this,arguments);};}();getMessage();},[]);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(Row,{children:[errorMsg&&/*#__PURE__*/_jsx(\"p\",{className:\"errorMsg\",children:errorMsg}),/*#__PURE__*/_jsx(Col,{md:{offset:10},children:/*#__PURE__*/_jsx(Button,{href:\"/createPost\",children:\"Nouveau Poste\"})})]}),/*#__PURE__*/_jsx(\"table\",{className:\"files-table\",children:/*#__PURE__*/_jsx(\"tbody\",{children:userMessage.length>0?userMessage.map(function(_ref2){var _id=_ref2._id,username=_ref2.username,message=_ref2.message;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"file-title\",children:username}),/*#__PURE__*/_jsx(\"td\",{className:\"file-description\",children:message})]},_id);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:3,style:{fontWeight:'300'},children:\"Pas de post trouv\\xE9, veuillez r\\xE9essayez plus tard.\"})})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:{offset:10},children:/*#__PURE__*/_jsx(Button,{href:\"/createPost\",children:\"Nouveau Poste\"})})})]});};export default Forum;","map":{"version":3,"sources":["/home/qtreheux/Desktop/Focus_plus/src/components/Forum.js"],"names":["React","useEffect","useState","Row","Col","Button","axios","API_URL","Forum","userMessage","setUserMessage","errorMsg","setErrorMsg","getMessage","get","data","response","offset","length","map","_id","username","message","fontWeight"],"mappings":"ibAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,MAAnB,KAAiC,iBAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,oBAAxB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,eAEoBN,QAAQ,CAAC,EAAD,CAF5B,wCAEXO,WAFW,eAEEC,cAFF,8BAGcR,QAAQ,CAAC,EAAD,CAHtB,yCAGXS,QAHW,eAGDC,WAHC,eAKlBX,SAAS,CAAC,UAAM,CACd,GAAMY,CAAAA,UAAU,0FAAG,mMAEQP,CAAAA,KAAK,CAACQ,GAAN,WAAaP,OAAb,mBAFR,uCAEPQ,IAFO,kBAEPA,IAFO,CAGfH,WAAW,CAAC,EAAD,CAAX,CACAF,cAAc,CAACK,IAAD,CAAd,CAJe,+EAMf,YAAMC,QAAN,EAAkBJ,WAAW,CAAC,YAAMI,QAAN,CAAeD,IAAhB,CAA7B,CANe,oEAAH,kBAAVF,CAAAA,UAAU,0CAAhB,CAUAA,UAAU,GACX,CAZQ,CAYN,EAZM,CAAT,CAcF,mBACE,MAAC,KAAD,CAAO,QAAP,yBACA,MAAC,GAAD,YACCF,QAAQ,eAAI,UAAG,SAAS,CAAC,UAAb,UAAyBA,QAAzB,EADb,cAEA,KAAC,GAAD,EAAK,EAAE,CAAE,CAAEM,MAAM,CAAE,EAAV,CAAT,uBACI,KAAC,MAAD,EAAQ,IAAI,CAAC,aAAb,2BADJ,EAFA,GADA,cAOA,cAAO,SAAS,CAAC,aAAjB,uBACE,uBACGR,WAAW,CAACS,MAAZ,CAAqB,CAArB,CACCT,WAAW,CAACU,GAAZ,CACE,mBAAGC,CAAAA,GAAH,OAAGA,GAAH,CAAQC,QAAR,OAAQA,QAAR,CAAkBC,OAAlB,OAAkBA,OAAlB,oBACE,mCACE,WAAI,SAAS,CAAC,YAAd,UAA4BD,QAA5B,EADF,cAEE,WAAI,SAAS,CAAC,kBAAd,UAAkCC,OAAlC,EAFF,GAASF,GAAT,CADF,EADF,CADD,cAUC,iCACE,WAAI,OAAO,CAAE,CAAb,CAAgB,KAAK,CAAE,CAAEG,UAAU,CAAE,KAAd,CAAvB,qEADF,EAXJ,EADF,EAPA,cA2BA,KAAC,GAAD,wBACA,KAAC,GAAD,EAAK,EAAE,CAAE,CAAEN,MAAM,CAAE,EAAV,CAAT,uBACE,KAAC,MAAD,EAAQ,IAAI,CAAC,aAAb,2BADF,EADA,EA3BA,GADF,CAmCC,CAtDD,CAwDA,cAAeT,CAAAA,KAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Row, Col, Button } from 'react-bootstrap';\nimport axios from 'axios';\nimport { API_URL } from '../utils/constants';\n\nconst Forum = () => {\n\n  const [userMessage, setUserMessage] = useState([]);\n  const [errorMsg, setErrorMsg] = useState('');\n\n  useEffect(() => {\n    const getMessage = async () => {\n      try {\n        const { data } = await axios.get(`${API_URL}/getAllMessage`);\n        setErrorMsg('');\n        setUserMessage(data);\n      } catch (error) {\n        error.response && setErrorMsg(error.response.data);\n      }\n    };\n\n    getMessage();\n  }, []);\n\nreturn (\n  <React.Fragment>\n  <Row>\n  {errorMsg && <p className=\"errorMsg\">{errorMsg}</p>}\n  <Col md={{ offset: 10 }}>\n      <Button href=\"/createPost\">Nouveau Poste</Button>\n  </Col>\n  </Row>\n  <table className=\"files-table\">\n    <tbody>\n      {userMessage.length > 0 ? (\n        userMessage.map(\n          ({ _id, username, message }) => (\n            <tr key={_id}>\n              <td className=\"file-title\">{username}</td>\n              <td className=\"file-description\">{message}</td>\n            </tr>\n          )\n        )\n      ) : (\n        <tr>\n          <td colSpan={3} style={{ fontWeight: '300' }}>\n            Pas de post trouvé, veuillez réessayez plus tard.\n          </td>\n        </tr>\n      )}\n    </tbody>\n  </table>\n  <Row>\n  <Col md={{ offset: 10 }}>\n    <Button href=\"/createPost\">Nouveau Poste</Button>\n  </Col>\n  </Row>\n</React.Fragment>\n);\n};\n\nexport default Forum;"]},"metadata":{},"sourceType":"module"}