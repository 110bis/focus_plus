{"ast":null,"code":"import _regeneratorRuntime from\"/home/qtreheux/Desktop/Focus_plus/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/qtreheux/Desktop/Focus_plus/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/qtreheux/Desktop/Focus_plus/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState}from'react';import{Form,Row,Col,Button}from'react-bootstrap';import axios from'axios';import{API_URL}from'../utils/constants';var Connection=function Connection(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),errorMsg=_useState6[0],setErrorMsg=_useState6[1];var handleUsernameChange=function handleUsernameChange(event){setUsername(event.target.value);};var handlePasswordChange=function handlePasswordChange(event){setPassword(event.target.value);};var handleOnSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;if(!(username.trim()!==''&&password.trim()!=='')){_context.next=8;break;}setErrorMsg('');_context.next=6;return axios.post(\"\".concat(API_URL,\"/login\"),{username:username,password:password});case 6:_context.next=9;break;case 8:setErrorMsg(\"S'il vous plaît entrez un nom d'utilisateur et un mot de passe.\");case 9:_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);_context.t0.response&&setErrorMsg(_context.t0.response.data);case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function handleOnSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{href:\"/signup\",children:\"S'incrire\"})})}),/*#__PURE__*/_jsxs(Form,{className:\"search-form\",onSubmit:handleOnSubmit,children:[errorMsg&&/*#__PURE__*/_jsx(\"p\",{className:\"errorMsg\",children:errorMsg}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Form.Group,{controlId:\"username\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"username\",value:username||'',placeholder:\"Entrez votre nom d'utilisateur\",onChange:handleUsernameChange})})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Form.Group,{controlId:\"password\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"password\",value:password||'',placeholder:\"Entrez votre mot de passe\",onChange:handlePasswordChange})})})}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Se Connecter\"})]})]});};export default Connection;","map":{"version":3,"sources":["/home/qtreheux/Desktop/Focus_plus/src/components/Login.js"],"names":["React","useState","Form","Row","Col","Button","axios","API_URL","Connection","props","username","setUsername","password","setPassword","errorMsg","setErrorMsg","handleUsernameChange","event","target","value","handlePasswordChange","handleOnSubmit","preventDefault","trim","post","response","data"],"mappings":"ibAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,CAAeC,GAAf,CAAoBC,GAApB,CAAyBC,MAAzB,KAAuC,iBAAvC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,oBAAxB,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,eAEIR,QAAQ,CAAC,EAAD,CAFZ,wCAErBS,QAFqB,eAEXC,WAFW,8BAGIV,QAAQ,CAAC,EAAD,CAHZ,yCAGrBW,QAHqB,eAGXC,WAHW,8BAIIZ,QAAQ,CAAC,EAAD,CAJZ,yCAIrBa,QAJqB,eAIXC,WAJW,eAM5B,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,KAAD,CAAW,CACtCN,WAAW,CAACM,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX,CACD,CAFD,CAIA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACH,KAAD,CAAW,CACtCJ,WAAW,CAACI,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX,CACD,CAFD,CAIA,GAAME,CAAAA,cAAc,0FAAG,iBAAOJ,KAAP,kHACrBA,KAAK,CAACK,cAAN,GADqB,qBAIbZ,QAAQ,CAACa,IAAT,KAAoB,EAApB,EAA0BX,QAAQ,CAACW,IAAT,KAAoB,EAJjC,0BAKfR,WAAW,CAAC,EAAD,CAAX,CALe,sBAMTT,CAAAA,KAAK,CAACkB,IAAN,WAAcjB,OAAd,WAA+B,CACnCG,QAAQ,CAAEA,QADyB,CAEnCE,QAAQ,CAAEA,QAFyB,CAA/B,CANS,qCAWfG,WAAW,CAAC,iEAAD,CAAX,CAXe,wFAcjB,YAAMU,QAAN,EAAkBV,WAAW,CAAC,YAAMU,QAAN,CAAeC,IAAhB,CAA7B,CAdiB,qEAAH,kBAAdL,CAAAA,cAAc,4CAApB,CAkBA,mBACE,MAAC,KAAD,CAAO,QAAP,yBACG,KAAC,GAAD,wBACI,KAAC,GAAD,wBACA,KAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,uBADA,EADJ,EADH,cAME,MAAC,IAAD,EAAM,SAAS,CAAC,aAAhB,CAA8B,QAAQ,CAAEA,cAAxC,WACGP,QAAQ,eAAI,UAAG,SAAS,CAAC,UAAb,UAAyBA,QAAzB,EADf,cAEE,KAAC,GAAD,wBACE,KAAC,GAAD,wBACE,KAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,UAAtB,uBACE,KAAC,IAAD,CAAM,OAAN,EACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAEJ,QAAQ,EAAI,EAHrB,CAIE,WAAW,CAAC,gCAJd,CAKE,QAAQ,CAAEM,oBALZ,EADF,EADF,EADF,EAFF,cAeE,KAAC,GAAD,wBACE,KAAC,GAAD,wBACE,KAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,UAAtB,uBACE,KAAC,IAAD,CAAM,OAAN,EACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAEJ,QAAQ,EAAI,EAHrB,CAIE,WAAW,CAAC,2BAJd,CAKE,QAAQ,CAAEQ,oBALZ,EADF,EADF,EADF,EAfF,cA4BE,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,QAA/B,0BA5BF,GANF,GADF,CAyCD,CAzED,CA0EA,cAAeZ,CAAAA,UAAf","sourcesContent":["import React, { useState } from 'react';\nimport { Form, Row, Col, Button } from 'react-bootstrap';\nimport axios from 'axios';\nimport { API_URL } from '../utils/constants';\n\nconst Connection = (props) => {\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMsg, setErrorMsg] = useState('');\n  \n  const handleUsernameChange = (event) => {\n    setUsername(event.target.value);\n  }\n\n  const handlePasswordChange = (event) => {\n    setPassword(event.target.value);\n  }\n\n  const handleOnSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n        if (username.trim() !== '' && password.trim() !== '') {\n          setErrorMsg('');\n          await axios.post(`${API_URL}/login`, {\n            username: username,\n            password: password\n          });\n        } else {\n          setErrorMsg(\"S'il vous plaît entrez un nom d'utilisateur et un mot de passe.\");\n        }\n      } catch (error) {\n        error.response && setErrorMsg(error.response.data);\n      }\n    };\n\n  return (\n    <React.Fragment>\n       <Row>\n           <Col> \n           <Button href=\"/signup\">S'incrire</Button>\n           </Col>\n       </Row> \n      <Form className=\"search-form\" onSubmit={handleOnSubmit}>\n        {errorMsg && <p className=\"errorMsg\">{errorMsg}</p>}\n        <Row>\n          <Col>\n            <Form.Group controlId=\"username\">\n              <Form.Control\n                type=\"text\"\n                name=\"username\"\n                value={username || ''}\n                placeholder=\"Entrez votre nom d'utilisateur\"\n                onChange={handleUsernameChange}\n              />\n            </Form.Group>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Form.Group controlId=\"password\">\n              <Form.Control\n                type=\"text\"\n                name=\"password\"\n                value={password || ''}\n                placeholder=\"Entrez votre mot de passe\"\n                onChange={handlePasswordChange}\n              />\n            </Form.Group>\n          </Col>\n        </Row>\n        <Button variant=\"primary\" type=\"submit\">\n          Se Connecter\n        </Button>\n      </Form>\n    </React.Fragment>\n  );\n};\nexport default Connection;"]},"metadata":{},"sourceType":"module"}